{
  "folder_name": "Audiobooks of Morrowind",
  "lua_files": {
    "Audiobooks of Morrowind-52458-2-1-1713697822\\MWSE\\mods\\rfuzzo\\Audiobooks\\main.lua": "--[[\nAudiobook for Morrowind mod - mwse plugin\nby rfuzzo\nfor: https://www.nexusmods.com/morrowind/mods/52458\nversion 1.0\n\nInstall:\n- make sure to disable Audiobooks of Morrowind.esp\n]] --\nlocal read_menu = tes3ui.registerID(\"audiobooks:readmenu\")\nlocal read_menu_ok = tes3ui.registerID(\"audiobooks:readmenu_ok\")\nlocal read_menu_stop = tes3ui.registerID(\"audiobooks:readmenu_stop\")\nlocal read_menu_cancel = tes3ui.registerID(\"audiobooks:readmenu_cancel\")\n\nlocal last_played_sound_id = nil\nlocal temp_book_id = nil\n\nlocal ADD_BUTTONS = true\n\n-- todo fill in\nlocal sound_map = {\n    bk_ABCs = \"Vo\\\\Audiobook\\\\ABCs_for_Barbarians.mp3\",\n    bk_AedraAndDaedra = \"Vo\\\\Audiobook\\\\AedraDaedra.mp3\",\n    bk_AffairsOfWizards = \"Vo\\\\Audiobook\\\\The_Affairs_of_Wizards.mp3\",\n    bk_AncestorsAndTheDunmer = \"Vo\\\\Audiobook\\\\Ancestors_and_the_Dunmer.mp3\",\n    bk_AnnotatedAnuad = \"Vo\\\\Audiobook\\\\The_Annotated_Anuad.mp3\",\n    bk_AntecedantsDwemerLaw = \"Vo\\\\Audiobook\\\\Antecedents_Dwemer.mp3\",\n    bk_Anticipations = \"Vo\\\\Audiobook\\\\The_Anticipations.mp3\",\n    bk_ArcanaRestored = \"Vo\\\\Audiobook\\\\Arcana_Restored.mp3\",\n    bk_ArcturianHeresy = \"Vo\\\\Audiobook\\\\The_Arcturian_Heresy.mp3\",\n    bk_ArkayTheEnemy = \"Vo\\\\Audiobook\\\\Arkay_the_Enemy.mp3\",\n    bk_Ashland_Hymns = \"Vo\\\\Audiobook\\\\AshHymns.mp3\",\n    bk_bartendersguide = \"Vo\\\\Audiobook\\\\Hanins_Wake.mp3\",\n    bk_BiographyBarenziah1 = \"Vo\\\\Audiobook\\\\BioBarenziah1.mp3\",\n    bk_BiographyBarenziah2 = \"Vo\\\\Audiobook\\\\BioBarenziah2.mp3\",\n    bk_BiographyBarenziah3 = \"Vo\\\\Audiobook\\\\BioBarenziah3.mp3\",\n    bk_BlasphemousRevenants = \"Vo\\\\Audiobook\\\\Blasphemous_Revenants.mp3\",\n    bk_BlueBookOfRiddles = \"Vo\\\\Audiobook\\\\The_Blue_Book_Riddles.mp3\",\n    bk_BoethiahPillowBook = \"Vo\\\\Audiobook\\\\Boethiah_Pillow_Book.mp3\",\n    bk_Boethiahs_Glory_unique = \"Vo\\\\Audiobook\\\\Boethiahs_Glory.mp3\",\n    bk_BookDawnAndDusk = \"Vo\\\\Audiobook\\\\The_Book_of_Dawn_and_Dusk.mp3\",\n    bk_BookOfDaedra = \"Vo\\\\Audiobook\\\\The_Book_of_Daedra.mp3\",\n    bk_BookOfLifeAndService = \"Vo\\\\Audiobook\\\\Book_Of_Life_And_Service.mp3\",\n    bk_BriefHistoryEmpire1 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_1.mp3\",\n    bk_BriefHistoryEmpire2 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_2.mp3\",\n    bk_BriefHistoryEmpire3 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_3.mp3\",\n\tbookskill_heavy_armor1 = \"Vo\\\\Audiobook\\\\Hallgerds_Tale.mp3\",\n    bookskill_heavy_armor4 = \"Vo\\\\Audiobook\\\\How_Orsinium_Passed_Orcs.mp3\",\n    BookSkill_Light_Armor2 = \"Vo\\\\Audiobook\\\\Ice_and_Chitin.mp3\",\n    bk_Im_My_Own_Grandpa = \"Vo\\\\Audiobook\\\\Im_My_Own_Grandpa.mp3\",\n    bookskill_illusion3 = \"Vo\\\\Audiobook\\\\Incident_in_Necrom.mp3\",\n    BookSkill_Armorer2 = \"Vo\\\\Audiobook\\\\Last_Scabbard_of_Akrash.mp3\",\n    bookskill_light_armor3 = \"Vo\\\\Audiobook\\\\Lord_Jornibrets_Last_Dance.mp3\",\n\tbookskill_hand_to_hand5 = \"Vo\\\\Audiobook\\\\Master_Zoarayms_Tale.mp3\",\n    BookSkill_Acrobatics5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v1.mp3\",\n    BookSkill_Restoration5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v2.mp3\",\n    BookSkill_Destruction5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v3.mp3\",\n\tBookSkill_Destruction5_open = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v3.mp3\",\n    bookskill_illusion5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v4.mp3\",\n    bookskill_mystery5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v5.mp3\",\n    bk_nchunaksfireandfaith = \"Vo\\\\Audiobook\\\\Nchuanks_Fire_and_Faith.mp3\",\n\tbookskill_blunt_weapon3 = \"Vo\\\\Audiobook\\\\Night_Falls_on_Sentinel.mp3\",\n    bookskill_restoration2 = \"Vo\\\\Audiobook\\\\Notes_on_Racial_Phylogeny.mp3\",\n    bk_ordolegionis = \"Vo\\\\Audiobook\\\\Ordo_Legionis.mp3\",\n    bookskill_illusion4 = \"Vo\\\\Audiobook\\\\Palla_v1.mp3\",\n    bookskill_enchant3 = \"Vo\\\\Audiobook\\\\Palla_v2.mp3\",\n    bookskill_acrobatics1 = \"Vo\\\\Audiobook\\\\Realizations_of_Acrobacy.mp3\",\n\tbk_redorancookingsecrets = \"Vo\\\\Audiobook\\\\Redoran_Cooking_Secrets.mp3\",\n    bookskill_destruction2 = \"Vo\\\\Audiobook\\\\Response_to_Beros_Speech.mp3\",\n    bookskill_illusion2 = \"Vo\\\\Audiobook\\\\Silence_book.mp3\",\n    bookskill_spear1 = \"Vo\\\\Audiobook\\\\Smugglers_Island.mp3\",\n\tBookSkill_Alchemy3 = \"Vo\\\\Audiobook\\\\Song_of_the_Alchemist.mp3\",\n    bookskill_security5 = \"Vo\\\\Audiobook\\\\Surfeit_of_Thieves.mp3\",\n    bk_TalMarogKersResearches = \"Vo\\\\Audiobook\\\\Tal_Marog_Kers_Researches.mp3\",\n    bk_Yagrums_Book = \"Vo\\\\Audiobook\\\\Tamrielic_Lore.mp3\",\n    bk_AlchemistsFormulary = \"Vo\\\\Audiobook\\\\The_Alchemists_Formulary.mp3\",\n    BookSkill_Armorer1 = \"Vo\\\\Audiobook\\\\The_Armorers_Challenge.mp3\",\n\tbookskill_destruction4 = \"Vo\\\\Audiobook\\\\The_Art_of_War_Magic.mp3\",\n    bookskill_axe2 = \"Vo\\\\Audiobook\\\\The_Axe_Man.mp3\",\n    bk_Balladeers_Fakebook = \"Vo\\\\Audiobook\\\\The_Balladeers_Fakebook.mp3\",\n    bk_BlackGlove = \"Vo\\\\Audiobook\\\\The_Black_Glove.mp3\",\n    BookSkill_Security3 = \"Vo\\\\Audiobook\\\\The_Dowry.mp3\",\n    BookSkill_Alteration2 = \"Vo\\\\Audiobook\\\\The_Dragon_Break_Reexamined.mp3\",\n\tbookskill_enchant5 = \"Vo\\\\Audiobook\\\\The_Final_Lesson.mp3\",\n    bookskill_mysticism1 = \"Vo\\\\Audiobook\\\\The_Firsthold_Revolt.mp3\",\n    bookskill_restoration3 = \"Vo\\\\Audiobook\\\\The_Four_Suitors_Benitah.mp3\",\n    bookskill_marksman1 = \"Vo\\\\Audiobook\\\\The_Gold_Ribbon_of_Merit.mp3\",\n\tbookskill_blunt_weapon1 = \"Vo\\\\Audiobook\\\\The_Hope_of_the_Redoran.mp3\",\n    bk_playscript = \"Vo\\\\Audiobook\\\\The_Horror_Castle_Xyr.mp3\",\n    bookskill_destruction1 = \"Vo\\\\Audiobook\\\\The_Horror_Castle_Xyr.mp3\",\n    BookSkill_Blunt_Weapon2 = \"Vo\\\\Audiobook\\\\The_Importance_of_Where.mp3\",\n    bk_LegendaryScourge = \"Vo\\\\Audiobook\\\\The_Legendary_Scourge.mp3\",\n    bookskill_security1 = \"Vo\\\\Audiobook\\\\The_Locked_Room.mp3\",\n\tBookSkill_Alteration5 = \"Vo\\\\Audiobook\\\\The_Lunar_Lorkhan.mp3\",\n    bk_madnessofpelagius = \"Vo\\\\Audiobook\\\\The_Madness_Pelagius.mp3\",\n    bookskill_marksman4 = \"Vo\\\\Audiobook\\\\The_Marksmanship_Lesson.mp3\",\n    bk_manyfacesmissinggod = \"Vo\\\\Audiobook\\\\The_Monomyth.mp3\",\n\tbookskill_block2 = \"Vo\\\\Audiobook\\\\The_Mirror.mp3\",\n    bk_oldways = \"Vo\\\\Audiobook\\\\The_Old_Ways.mp3\",\n    bk_PostingOfTheHunt = \"Vo\\\\Audiobook\\\\The_Posting_of_the_Hunt.mp3\",\n    bookskill_hand_to_hand1 = \"Vo\\\\Audiobook\\\\The_Prayers_of_Baranat.mp3\",\n    BookSkill_Athletics1 = \"Vo\\\\Audiobook\\\\The_Ransom_of_Zarek.mp3\",\n    BookSkill_Light_Armor1 = \"Vo\\\\Audiobook\\\\The_Rear_Guard.mp3\",\n\tBookSkill_Axe3 = \"Vo\\\\Audiobook\\\\The_Seed.mp3\",\n    BookSkill_Axe1 = \"Vo\\\\Audiobook\\\\The_Third_Door.mp3\",\n    bk_VagariesOfMagica = \"Vo\\\\Audiobook\\\\The_Vagaries_of_Magicka.mp3\",\n    bookskill_conjuration5 = \"Vo\\\\Audiobook\\\\The_Warriors_Charge.mp3\",\n\tbk_WatersOfOblivion = \"Vo\\\\Audiobook\\\\The_Waters_of_Oblivion.mp3\",\n    bookskill_security2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v1.mp3\",\n    bookskill_hand_to_hand2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v2.mp3\",\n    bookskill_illusion1 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v3.mp3\",\n    bookskill_mercantile2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v4.mp3\",\n\tbookskill_speechcraft2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v5.mp3\",\n    bookskill_sneak1 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v6.mp3\",\n    bookskill_speechcraft4 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v7.mp3\",\n    BookSkill_Enchant2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v8.mp3\",\n    bookskill_unarmored1 = \"Vo\\\\Audiobook\\\\The_Wraiths_Wedding_Dowry.mp3\",\n\tbookskill_short_blade1 = \"Vo\\\\Audiobook\\\\Unnamed_Book.mp3\",\n    bookskill_marksman3 = \"Vo\\\\Audiobook\\\\Vernaccus_and_Bourlor.mp3\",\n    bk_WaroftheFirstCouncil = \"Vo\\\\Audiobook\\\\War_of_the_First_Council.mp3\",\n    BookSkill_Long_Blade1 = \"Vo\\\\Audiobook\\\\Words_and_Philosophy.mp3\",\n\tbk_wordsclanmother = \"Vo\\\\Audiobook\\\\Words_Clan_Mom_Ahnissi.mp3\",\n    bk_words_of_the_wind = \"Vo\\\\Audiobook\\\\Words_of_the_Wind.mp3\",\n    bk_yellowbookofriddles = \"Vo\\\\Audiobook\\\\Yellow_Book_of_Riddles.mp3\",\n    bk_BriefHistoryEmpire4 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_4.mp3\",\n    bk_BriefHistoryofWood = \"Vo\\\\Audiobook\\\\Picture_Book_of_Wood.mp3\",\n    bk_BriefHistoryofWood_01 = \"Vo\\\\Audiobook\\\\Picture_Book_of_Wood.mp3\",\n    bk_BrothersOfDarkness = \"Vo\\\\Audiobook\\\\The_Brothers_Darkness.mp3\",\n    bk_CantatasOfVivec = \"Vo\\\\Audiobook\\\\The_Cantatas_of_Vivec.mp3\",\n    bk_ChangedOnes = \"Vo\\\\Audiobook\\\\The_Changed_Ones.mp3\",\n    bk_charterFG = \"Vo\\\\Audiobook\\\\Fighters_Guild_Charter.mp3\",\n    bk_charterMG = \"Vo\\\\Audiobook\\\\Mages_Guild_Charter.mp3\",\n    bk_ChildrenOfTheSky = \"Vo\\\\Audiobook\\\\Children_Of_Sky.mp3\",\n    bk_ChildrensAnuad = \"Vo\\\\Audiobook\\\\The_Annotated_Anuad.mp3\",\n    bk_ChroniclesNchuleft = \"Vo\\\\Audiobook\\\\Chronicles_of_Nchuleft.mp3\",\n    bk_Confessions = \"Vo\\\\Audiobook\\\\Confessions_Skooma_Eater.mp3\",\n    bk_ConsolationsOfPrayer = \"Vo\\\\Audiobook\\\\The_Consolations_of_Prayer.mp3\",\n    bk_corpsepreperation1_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_1.mp3\",\n    bk_corpsepreperation1_o = \"Vo\\\\Audiobook\\\\Corpse_Preparation_1.mp3\",\n    bk_corpsepreperation2_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_2.mp3\",\n    bk_corpsepreperation3_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_3.mp3\",\n    bk_darkestdarkness = \"Vo\\\\Audiobook\\\\Darkest_Darkness.mp3\",\n    bk_DoorsOfTheSpirit = \"Vo\\\\Audiobook\\\\The_Doors_Of_Spirit.mp3\",\n    bk_easternprovincesimpartial = \"Vo\\\\Audiobook\\\\The_Eastern_Provinces.mp3\",\n    bk_fellowshiptemple = \"Vo\\\\Audiobook\\\\Fellowship_Of_The_Temple.mp3\",\n    bk_firmament = \"Vo\\\\Audiobook\\\\The_Firmament.mp3\",\n    bk_fishystick = \"Vo\\\\Audiobook\\\\Capns_Guide_to_the_Fishy_Stick.mp3\",\n    bk_five_far_stars = \"Vo\\\\Audiobook\\\\The_Five_Far_Stars.mp3\",\n    bk_fivesongsofkingwulfharth = \"Vo\\\\Audiobook\\\\Five_Songs_of_King_Wulfharth.mp3\",\n    bk_formygodsandemperor = \"Vo\\\\Audiobook\\\\For_God_Emperor.mp3\",\n    bk_fragmentonartaeum = \"Vo\\\\Audiobook\\\\Fragment_On_Artaeum.mp3\",\n    bk_frontierconquestaccommodat = \"Vo\\\\Audiobook\\\\Frontier_Conquest.mp3\",\n    bk_galerionthemystic = \"Vo\\\\Audiobook\\\\Galerion_the_Mystic.mp3\",\n    bk_galur_ritharis_papers = \"Vo\\\\Audiobook\\\\Galur_Rithari_Papers.mp3\",\n    bk_graspingfortune = \"Vo\\\\Audiobook\\\\Grasping_Fortune.mp3\",\n    bk_great_houses = \"Vo\\\\Audiobook\\\\Great_Houses_Morrowind.mp3\",\n    bk_guide_to_ald_ruhn = \"Vo\\\\Audiobook\\\\Guide_To_Aldruhn.mp3\",\n    bk_guide_to_balmora = \"Vo\\\\Audiobook\\\\GuidetoBalmora.mp3\",\n    bk_guide_to_sadrithmora = \"Vo\\\\Audiobook\\\\Guide_To_Sadrith_Mora.mp3\",\n    bk_guide_to_vivec = \"Vo\\\\Audiobook\\\\Guide_To_Vivec.mp3\",\n    bk_guide_to_vvardenfell = \"Vo\\\\Audiobook\\\\Guide_To_Vvardenfell.mp3\",\n    bk_guylainesarchitecture = \"Vo\\\\Audiobook\\\\Guylaines_Architecture.mp3\",\n    bk_HomiliesOfBlessedAlmalexia = \"Vo\\\\Audiobook\\\\Homilies_Blessed_Amalexia.mp3\",\n    bk_honorthieves = \"Vo\\\\Audiobook\\\\Honor_Among_Thieves.mp3\",\n    bk_HouseOfTroubles_c = \"Vo\\\\Audiobook\\\\The_House_of_Troubles.mp3\",\n    bk_HouseOfTroubles_o = \"Vo\\\\Audiobook\\\\The_House_of_Troubles.mp3\",\n    bk_InvocationOfAzura = \"Vo\\\\Audiobook\\\\Invocation_of_Azura.mp3\",\n    bk_istunondescosmology = \"Vo\\\\Audiobook\\\\A_Less_Rude_Song.mp3\",\n    bk_legionsofthedead = \"Vo\\\\Audiobook\\\\Legions_Of_The_Dead.mp3\",\n    bk_LivesOfTheSaints = \"Vo\\\\Audiobook\\\\Lives_of_the_saints.mp3\",\n    bk_lustyargonianmaid = \"Vo\\\\Audiobook\\\\Lusty_Argonian_Maid.mp3\",\n    bk_MixedUnitTactics = \"Vo\\\\Audiobook\\\\Mixed_Unit_Tactics.mp3\",\n    bk_MysteriousAkavir = \"Vo\\\\Audiobook\\\\Mysterious_Akavir.mp3\",\n    bk_Mysticism = \"Vo\\\\Audiobook\\\\Mysticism_Unfath_Voyage.mp3\",\n    bk_NerevarMoonandStar = \"Vo\\\\Audiobook\\\\Nerevar_MoonStar.mp3\",\n    bk_NGastaKvataKvakis_c = \"Vo\\\\Audiobook\\\\NGasta_Kvata_Kvakis.mp3\",\n    bk_NGastaKvataKvakis_o = \"Vo\\\\Audiobook\\\\NGasta_Kvata_Kvakis.mp3\",\n    bk_OnMorrowind = \"Vo\\\\Audiobook\\\\On_Morrowind.mp3\",\n    bk_onoblivion = \"Vo\\\\Audiobook\\\\On_Oblivion.mp3\",\n    bk_OriginOfTheMagesGuild = \"Vo\\\\Audiobook\\\\Origin_Mages_Guild.mp3\",\n    bk_OverviewOfGodsAndWorship = \"Vo\\\\Audiobook\\\\Overview_Gods_Worship.mp3\",\n    bk_PigChildren = \"Vo\\\\Audiobook\\\\The_Pig_Children.mp3\",\n    bk_PilgrimsPath = \"Vo\\\\Audiobook\\\\The_Pilgrims_Path.mp3\",\n    bk_poisonsong1 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_1.mp3\",\n    bk_poisonsong2 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_2.mp3\",\n    bk_poisonsong3 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_3.mp3\",\n    bk_poisonsong4 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_4.mp3\",\n    bk_poisonsong5 = \"Vo\\\\Audiobook\\\\Poison_Song_5.mp3\",\n    bk_poisonsong6 = \"Vo\\\\Audiobook\\\\Poison_Song_6.mp3\",\n    bk_poisonsong7 = \"Vo\\\\Audiobook\\\\Poison_Song_7.mp3\",\n    bk_progressoftruth = \"Vo\\\\Audiobook\\\\Progress_Of_Truth.mp3\",\n    bk_provinces_of_tamriel = \"Vo\\\\Audiobook\\\\Provinces_of_Tamriel.mp3\",\n    bk_RealBarenziah1 = \"Vo\\\\Audiobook\\\\The_Real_Barenziah_Volume1.mp3\",\n    bk_realbarenziah2 = \"Vo\\\\Audiobook\\\\The_Real_Barenziah_Volume2.mp3\",\n    bk_realbarenziah3 = \"Vo\\\\Audiobook\\\\the_real_barenziah_v3.mp3\",\n    bk_realbarenziah4 = \"Vo\\\\Audiobook\\\\the_real_barenziah_v4.mp3\",\n    bk_RealBarenziah5 = \"Vo\\\\Audiobook\\\\The_real_barenziah_v5.mp3\",\n    bk_RealNerevar = \"Vo\\\\Audiobook\\\\The_Real_Nerevar.mp3\",\n    bk_redbookofriddles = \"Vo\\\\Audiobook\\\\The_Red_Book_Riddles.mp3\",\n    bk_reflectionsoncultworship = \"Vo\\\\Audiobook\\\\Reflections_on_Cult_Worship.mp3\",\n    bk_SamarStarloversJournal = \"Vo\\\\Audiobook\\\\Starlovers_Log.mp3\",\n    bk_SaryonisSermons = \"Vo\\\\Audiobook\\\\Saryonis_Sermons.mp3\",\n    bk_ShortHistoryMorrowind = \"Vo\\\\Audiobook\\\\Short_History_Morrowind.mp3\",\n    bk_specialfloraoftamriel = \"Vo\\\\Audiobook\\\\Special_Flora_Tamriel.mp3\",\n    bk_spiritofnirn = \"Vo\\\\Audiobook\\\\Spirit_Of_Nirn.mp3\",\n    bk_SpiritOfTheDaedra = \"Vo\\\\Audiobook\\\\Spirit_Of_The_Daedra.mp3\",\n    bk_tamrielicreligions = \"Vo\\\\Audiobook\\\\Ruins_of_Kemel_Ze.mp3\",\n    bk_truenatureoforcs = \"Vo\\\\Audiobook\\\\The_True_Nature_Orcs.mp3\",\n    bk_truenoblescode = \"Vo\\\\Audiobook\\\\The_True_Nobles_Code.mp3\",\n    bk_vampiresofvvardenfell1 = \"Vo\\\\Audiobook\\\\Vampires_Vvardenfell_I.mp3\",\n    bk_vampiresofvvardenfell2 = \"Vo\\\\Audiobook\\\\Vampires_Vvardenfell_II.mp3\",\n    bk_varietiesoffaithintheempire = \"Vo\\\\Audiobook\\\\Varieties_of_Faith.mp3\",\n    bk_vivec_murders = \"Vo\\\\Audiobook\\\\Nerevar_At_Red_Mountain.mp3\",\n    bk_vivecandmephala = \"Vo\\\\Audiobook\\\\Vivec_and_Mephala.mp3\",\n    bk_wherewereyoudragonbroke = \"Vo\\\\Audiobook\\\\Where_you_when_Dragon_Broke.mp3\",\n    bk_wildelves = \"Vo\\\\Audiobook\\\\The_Wild_Elves.mp3\",\n    BookSkill_Acrobatics2 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_book_1.mp3\",\n    BookSkill_Acrobatics3 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_4.mp3\",\n    BookSkill_Acrobatics4 = \"Vo\\\\Audiobook\\\\The_Black_Arrow_1.mp3\",\n    BookSkill_Alchemy1 = \"Vo\\\\Audiobook\\\\A_Game_At_Dinner.mp3\",\n    BookSkill_Alchemy2 = \"Vo\\\\Audiobook\\\\The_Cake_and_the_Diamond.mp3\",\n    BookSkill_Alchemy4 = \"Vo\\\\Audiobook\\\\VivecSermon2.mp3\",\n    BookSkill_Alchemy5 = \"Vo\\\\Audiobook\\\\VivecSermon18.mp3\",\n    BookSkill_Alteration1 = \"Vo\\\\Audiobook\\\\Breathing_Water.mp3\",\n    BookSkill_Alteration3 = \"Vo\\\\Audiobook\\\\Sithis.mp3\",\n    BookSkill_Alteration4 = \"Vo\\\\Audiobook\\\\VivecSermon13.mp3\",\n    BookSkill_Armorer3 = \"Vo\\\\Audiobook\\\\VivecSermon6.mp3\",\n    BookSkill_Armorer4 = \"Vo\\\\Audiobook\\\\VivecSermon25.mp3\",\n    BookSkill_Armorer5 = \"Vo\\\\Audiobook\\\\VivecSermon29.mp3\",\n    BookSkill_Athletics2 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_3.mp3\",\n    BookSkill_Athletics3 = \"Vo\\\\Audiobook\\\\VivecSermon1.mp3\",\n    BookSkill_Athletics4 = \"Vo\\\\Audiobook\\\\VivecSermon8.mp3\",\n    BookSkill_Athletics5 = \"Vo\\\\Audiobook\\\\VivecSermon31.mp3\",\n    BookSkill_Axe4 = \"Vo\\\\Audiobook\\\\VivecSermon5.mp3\",\n    BookSkill_Axe5 = \"Vo\\\\Audiobook\\\\VivecSermon16.mp3\",\n    BookSkill_Axe5_open = \"Vo\\\\Audiobook\\\\VivecSermon16.mp3\",\n    BookSkill_Block1 = \"Vo\\\\Audiobook\\\\Death_Blow_of_Abernanit.mp3\",\n    BookSkill_Block3 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_2.mp3\",\n    BookSkill_Block4 = \"Vo\\\\Audiobook\\\\VivecSermon7.mp3\",\n    BookSkill_Block5 = \"Vo\\\\Audiobook\\\\VivecSermon32.mp3\",\n    BookSkill_Blunt_Weapon4 = \"Vo\\\\Audiobook\\\\VivecSermon3.mp3\",\n    BookSkill_Blunt_Weapon5 = \"Vo\\\\Audiobook\\\\VivecSermon9.mp3\",\n    BookSkill_Conjuration1 = \"Vo\\\\Audiobook\\\\Feyfolken_v2.mp3\",\n    BookSkill_Conjuration2 = \"Vo\\\\Audiobook\\\\Feyfolken_v3.mp3\",\n    BookSkill_Conjuration3 = \"Vo\\\\Audiobook\\\\2920_9_Hearth_Fire.mp3\",\n    BookSkill_Conjuration4 = \"Vo\\\\Audiobook\\\\2920_10_FrostFall.mp3\",\n    BookSkill_Enchant1 = \"Vo\\\\Audiobook\\\\Feyfolken_v1.mp3\",\n    bookskill_enchant4 = \"Vo\\\\Audiobook\\\\VivecSermon19.mp3\",\n    bookskill_hand_to_hand3 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v2.mp3\",\n    bookskill_hand_to_hand4 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v4.mp3\",\n    BookSkill_Heavy_Armor2 = \"Vo\\\\Audiobook\\\\2920_6_MidYear.mp3\",\n    bookskill_heavy_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon12.mp3\",\n    BookSkill_Heavy_Armor3 = \"Vo\\\\Audiobook\\\\Chimarvamidium.mp3\",\n    bookskill_light_armor4 = \"Vo\\\\Audiobook\\\\VivecSermon21.mp3\",\n    bookskill_light_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon28.mp3\",\n    BookSkill_Long_Blade2 = \"Vo\\\\Audiobook\\\\2920_01_Morning_Star.mp3\",\n    bookskill_long_blade3 = \"Vo\\\\Audiobook\\\\VivecSermon17.mp3\",\n    bookskill_long_blade4 = \"Vo\\\\Audiobook\\\\VivecSermon20.mp3\",\n    bookskill_long_blade5 = \"Vo\\\\Audiobook\\\\VivecSermon23.mp3\",\n    BookSkill_Marksman2 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_5.mp3\",\n    bookskill_marksman5 = \"Vo\\\\Audiobook\\\\The_Black_Arrow_2.mp3\",\n    bookskill_medium_armor4 = \"Vo\\\\Audiobook\\\\VivecSermon22.mp3\",\n    bookskill_medium_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon33.mp3\",\n    bookskill_medium_armor1 = \"Vo\\\\Audiobook\\\\Cherims_Heart_Of_Anequina.mp3\",\n    BookSkill_Medium_Armor2 = \"Vo\\\\Audiobook\\\\Bone_Book_I.mp3\",\n    BookSkill_Medium_Armor3 = \"Vo\\\\Audiobook\\\\Bone_Book_II.mp3\",\n    bookskill_mercantile1 = \"Vo\\\\Audiobook\\\\The_Buying_Game.mp3\",\n    BookSkill_Mercantile3 = \"Vo\\\\Audiobook\\\\2920_7_Suns_Height.mp3\",\n    bookskill_mercantile4 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_6.mp3\",\n    bookskill_mercantile5 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_7.mp3\",\n    BookSkill_Mysticism2 = \"Vo\\\\Audiobook\\\\2920_02_Suns_Dawn.mp3\",\n    BookSkill_Mysticism3 = \"Vo\\\\Audiobook\\\\VivecSermon4.mp3\",\n    BookSkill_Mysticism4 = \"Vo\\\\Audiobook\\\\VivecSermon36.mp3\",\n    BookSkill_Mysticism5 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v3.mp3\",\n    bookskill_restoration1 = \"Vo\\\\Audiobook\\\\Withershins.mp3\",\n    BookSkill_Restoration4 = \"Vo\\\\Audiobook\\\\2920_04_Rains_Hand.mp3\",\n    bookskill_security4 = \"Vo\\\\Audiobook\\\\Chances_Folly.mp3\",\n    BookSkill_Short_Blade2 = \"Vo\\\\Audiobook\\\\2920_11_Suns_Dusk.mp3\",\n    BookSkill_Short_Blade3 = \"Vo\\\\Audiobook\\\\2920_vol_12.mp3\",\n    BookSkill_Short_Blade4 = \"Vo\\\\Audiobook\\\\VivecSermon10.mp3\",\n    BookSkill_Short_Blade5 = \"Vo\\\\Audiobook\\\\VivecSermon30.mp3\",\n    BookSkill_Sneak2 = \"Vo\\\\Audiobook\\\\2920_8_Last_Seed.mp3\",\n    BookSkill_Sneak3 = \"Vo\\\\Audiobook\\\\Azura_and_the_Box.mp3\",\n    bookskill_sneak4 = \"Vo\\\\Audiobook\\\\Trap.mp3\",\n    bookskill_sneak5 = \"Vo\\\\Audiobook\\\\VivecSermon26.mp3\",\n    BookSkill_Spear2 = \"Vo\\\\Audiobook\\\\2920_03_First_Seed.mp3\",\n    bookskill_spear3 = \"Vo\\\\Audiobook\\\\VivecSermon14.mp3\",\n    bookskill_spear4 = \"Vo\\\\Audiobook\\\\VivecSermon24.mp3\",\n    bookskill_spear5 = \"Vo\\\\Audiobook\\\\VivecSermon35.mp3\",\n    BookSkill_Speechcraft1 = \"Vo\\\\Audiobook\\\\Biography_Wolf_Queen.mp3\",\n    BookSkill_Speechcraft3 = \"Vo\\\\Audiobook\\\\2920_05_Second_Seed.mp3\",\n    bookskill_speechcraft5 = \"Vo\\\\Audiobook\\\\VivecSermon27.mp3\",\n    bookskill_unarmored2 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v1.mp3\",\n    bookskill_unarmored3 = \"Vo\\\\Audiobook\\\\VivecSermon11.mp3\",\n    bookskill_unarmored4 = \"Vo\\\\Audiobook\\\\VivecSermon15.mp3\",\n    bookskill_unarmored5 = \"Vo\\\\Audiobook\\\\VivecSermon34.mp3\"\n}\n\n--- @param book_id string\nlocal function getSoundId(book_id) return book_id .. \"_\" end\n\nlocal re = require(\"re\")\n--- @param dirty_id string\n--- replace spaces with _, replace . and ' with none\nlocal function sanitize_id(dirty_id)\n    local result = string.gsub(dirty_id, \"%s+\", \"_\")\n    result = re.gsub(result, \"[.,]\", \"\")\n    return result\nend\n\n------------------------------------------------------------------------------------\n\nlocal function removeSoundInternal()\n    if last_played_sound_id ~= nil then\n        -- tes3.removeSound({ sound = last_played_sound_id, reference = tes3.player })\n        tes3.removeSound({reference = tes3.player})\n    end\nend\n\nlocal function playSoundInternal()\n    if temp_book_id ~= nil then\n        local sound_path = sound_map[temp_book_id]\n        if sound_path ~= nil then\n\t\t\tif lfs.fileexists(\"Data Files\\\\Sound\\\\\" .. sound_path) then\n\t\t\t\tlocal sound_id = getSoundId(temp_book_id)\n\t\t\t\tremoveSoundInternal()\n\t\t\t\ttes3.say({reference = tes3.player, soundPath = sound_path})\n\t\t\t\tlast_played_sound_id = sound_id\n\t\t\telse\n\t\t\t\ttes3.messageBox(\"This book has no audiobook\")\n\t\t\tend\n        end\n    end\nend\n\n------------------------------------------------------------------------------------\n\n--- @param e equipEventData\nlocal function equipCallback(e)\n    if (e.item.objectType ~= tes3.objectType.book) then return end\n\n    local sanitized_id = sanitize_id(e.item.id)\n    local sound_path = sound_map[sanitized_id]\n\n    -- debug.log(e.item.id)\n    -- debug.log(sanitized_id)\n    -- debug.log(sound_path)\n\n    if sound_path ~= nil then\n        temp_book_id = sanitized_id\n    else\n        temp_book_id = nil\n    end\n\nend\nevent.register(tes3.event.equip, equipCallback, {priority = 100})\n\n--- @param e activateEventData\nlocal function activateCallback(e)\n    if (e.target.baseObject.objectType ~= tes3.objectType.book) then return end\n\n    local sanitized_id = sanitize_id(e.target.id)\n    local sound_path = sound_map[sanitized_id]\n\n    -- debug.log(e.item.id)\n    -- debug.log(sanitized_id)\n    -- debug.log(sound_path)\n\n    if sound_path ~= nil then\n        temp_book_id = sanitized_id\n    else\n        temp_book_id = nil\n    end\nend\nevent.register(tes3.event.activate, activateCallback)\n\n------------------------------------------------------------------------------------\n\n-- OK button callback.\nlocal function onMenuBookRead(e) playSoundInternal() end\n\n-- Stop button callback.\nlocal function onMenuBookStop(e) removeSoundInternal() end\n\n------------------------------------------------------------------------------------\n\n--- @param e uiActivatedEventData\nlocal function uiActivatedCallback(e)\n\n    if (e.element.name ~= \"MenuBook\") then return end\n\n    if temp_book_id == nil then return end\n\n    -- add buttons\n    if ADD_BUTTONS then\n        local bookMenu = e.element\n\n        -- Option 1\n        local menu = bookMenu:createRect({id = \"rf_bookmenu_read\"})\n        menu.alpha = 0.0\n        menu.autoHeight = true\n        menu.autoWidth = true\n        menu.absolutePosAlignX = 0.5\n        menu.absolutePosAlignY = 0.9\n        menu.childAlignX = 0.5\n\n        -- Interactions\n        local button_block = menu:createBlock{}\n        button_block.widthProportional = 1.0\n        button_block.autoHeight = true\n        button_block.autoWidth = true\n        button_block.childAlignX = 0.5\n\n        local button_color = {55 / 255, 23 / 255, 0 / 255}\n\n        local button_read = button_block:createTextSelect({\n            id = \"rf_bookmenu_btn_read\",\n            text = \"Read\"\n        })\n        button_read.widget.idle = button_color\n        button_read:register(tes3.uiEvent.mouseClick, onMenuBookRead)\n\n        -- separator\n        local fill = button_block:createRect();\n        fill.width = 260\n        fill.height = 20\n        fill.alpha = 0.0\n\n        local button_stop = button_block:createTextSelect({\n            id = \"rf_bookmenu_btn_stop\",\n            text = \"Stop\"\n        })\n        button_stop.widget.idle = button_color\n        button_stop:register(tes3.uiEvent.mouseClick, onMenuBookStop)\n\n        menu:updateLayout()\n        bookMenu:updateLayout()\n    end\n\nend\nevent.register(tes3.event.uiActivated, uiActivatedCallback)\n\n",
    "Audiobooks of Morrowind-52458-2-1-1713697822\\scripts\\audiobook.lua": "local ui = require('openmw.ui')\nlocal types = require('openmw.types')\nlocal self = require('openmw.self')\nlocal core = require('openmw.core')\nlocal vfs = require('openmw.vfs')\n\n-- formatted to all lowercase keys\n-- regex: \\b(\\w+)\\b\\s*=\n-- replace: \\L$1\nlocal sound_map = {\n    bk_abcs = \"Vo\\\\Audiobook\\\\ABCs_for_Barbarians.mp3\",\n    bk_aedraanddaedra = \"Vo\\\\Audiobook\\\\AedraDaedra.mp3\",\n    bk_affairsofwizards = \"Vo\\\\Audiobook\\\\The_Affairs_of_Wizards.mp3\",\n    bk_ancestorsandthedunmer = \"Vo\\\\Audiobook\\\\Ancestors_and_the_Dunmer.mp3\",\n    bk_annotatedanuad = \"Vo\\\\Audiobook\\\\The_Annotated_Anuad.mp3\",\n    bk_antecedantsdwemerlaw = \"Vo\\\\Audiobook\\\\Antecedents_Dwemer.mp3\",\n    bk_anticipations = \"Vo\\\\Audiobook\\\\The_Anticipations.mp3\",\n    bk_arcanarestored = \"Vo\\\\Audiobook\\\\Arcana_Restored.mp3\",\n    bk_arcturianheresy = \"Vo\\\\Audiobook\\\\The_Arcturian_Heresy.mp3\",\n    bk_arkaytheenemy = \"Vo\\\\Audiobook\\\\Arkay_the_Enemy.mp3\",\n    bk_ashland_hymns = \"Vo\\\\Audiobook\\\\AshHymns.mp3\",\n    bk_bartendersguide = \"Vo\\\\Audiobook\\\\Hanins_Wake.mp3\",\n    bk_biographybarenziah1 = \"Vo\\\\Audiobook\\\\BioBarenziah1.mp3\",\n    bk_biographybarenziah2 = \"Vo\\\\Audiobook\\\\BioBarenziah2.mp3\",\n    bk_biographybarenziah3 = \"Vo\\\\Audiobook\\\\BioBarenziah3.mp3\",\n    bk_blasphemousrevenants = \"Vo\\\\Audiobook\\\\Blasphemous_Revenants.mp3\",\n    bk_bluebookofriddles = \"Vo\\\\Audiobook\\\\The_Blue_Book_Riddles.mp3\",\n    bk_boethiahpillowbook = \"Vo\\\\Audiobook\\\\Boethiah_Pillow_Book.mp3\",\n    bk_boethiahs_glory_unique = \"Vo\\\\Audiobook\\\\Boethiahs_Glory.mp3\",\n    bk_bookdawnanddusk = \"Vo\\\\Audiobook\\\\The_Book_of_Dawn_and_Dusk.mp3\",\n    bk_bookofdaedra = \"Vo\\\\Audiobook\\\\The_Book_of_Daedra.mp3\",\n    bk_bookoflifeandservice = \"Vo\\\\Audiobook\\\\Book_Of_Life_And_Service.mp3\",\n    bk_briefhistoryempire1 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_1.mp3\",\n    bk_briefhistoryempire2 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_2.mp3\",\n    bk_briefhistoryempire3 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_3.mp3\",\n    bookskill_heavy_armor1 = \"Vo\\\\Audiobook\\\\Hallgerds_Tale.mp3\",\n    bookskill_heavy_armor4 = \"Vo\\\\Audiobook\\\\How_Orsinium_Passed_Orcs.mp3\",\n    bookskill_light_armor2 = \"Vo\\\\Audiobook\\\\Ice_and_Chitin.mp3\",\n    bk_im_my_own_grandpa = \"Vo\\\\Audiobook\\\\Im_My_Own_Grandpa.mp3\",\n    bookskill_illusion3 = \"Vo\\\\Audiobook\\\\Incident_in_Necrom.mp3\",\n    bookskill_armorer2 = \"Vo\\\\Audiobook\\\\Last_Scabbard_of_Akrash.mp3\",\n    bookskill_light_armor3 = \"Vo\\\\Audiobook\\\\Lord_Jornibrets_Last_Dance.mp3\",\n    bookskill_hand_to_hand5 = \"Vo\\\\Audiobook\\\\Master_Zoarayms_Tale.mp3\",\n    bookskill_acrobatics5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v1.mp3\",\n    bookskill_restoration5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v2.mp3\",\n    bookskill_destruction5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v3.mp3\",\n    bookskill_destruction5_open = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v3.mp3\",\n    bookskill_illusion5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v4.mp3\",\n    bookskill_mystery5 = \"Vo\\\\Audiobook\\\\Mystery_of_Talara_v5.mp3\",\n    bk_nchunaksfireandfaith = \"Vo\\\\Audiobook\\\\Nchuanks_Fire_and_Faith.mp3\",\n    bookskill_blunt_weapon3 = \"Vo\\\\Audiobook\\\\Night_Falls_on_Sentinel.mp3\",\n    bookskill_restoration2 = \"Vo\\\\Audiobook\\\\Notes_on_Racial_Phylogeny.mp3\",\n    bk_ordolegionis = \"Vo\\\\Audiobook\\\\Ordo_Legionis.mp3\",\n    bookskill_illusion4 = \"Vo\\\\Audiobook\\\\Palla_v1.mp3\",\n    bookskill_enchant3 = \"Vo\\\\Audiobook\\\\Palla_v2.mp3\",\n    bookskill_acrobatics1 = \"Vo\\\\Audiobook\\\\Realizations_of_Acrobacy.mp3\",\n    bk_redorancookingsecrets = \"Vo\\\\Audiobook\\\\Redoran_Cooking_Secrets.mp3\",\n    bookskill_destruction2 = \"Vo\\\\Audiobook\\\\Response_to_Beros_Speech.mp3\",\n    bookskill_illusion2 = \"Vo\\\\Audiobook\\\\Silence_book.mp3\",\n    bookskill_spear1 = \"Vo\\\\Audiobook\\\\Smugglers_Island.mp3\",\n    bookskill_alchemy3 = \"Vo\\\\Audiobook\\\\Song_of_the_Alchemist.mp3\",\n    bookskill_security5 = \"Vo\\\\Audiobook\\\\Surfeit_of_Thieves.mp3\",\n    bk_talmarogkersresearches = \"Vo\\\\Audiobook\\\\Tal_Marog_Kers_Researches.mp3\",\n    bk_yagrums_book = \"Vo\\\\Audiobook\\\\Tamrielic_Lore.mp3\",\n    bk_alchemistsformulary = \"Vo\\\\Audiobook\\\\The_Alchemists_Formulary.mp3\",\n    bookskill_armorer1 = \"Vo\\\\Audiobook\\\\The_Armorers_Challenge.mp3\",\n    bookskill_destruction4 = \"Vo\\\\Audiobook\\\\The_Art_of_War_Magic.mp3\",\n    bookskill_axe2 = \"Vo\\\\Audiobook\\\\The_Axe_Man.mp3\",\n    bk_balladeers_fakebook = \"Vo\\\\Audiobook\\\\The_Balladeers_Fakebook.mp3\",\n    bk_blackglove = \"Vo\\\\Audiobook\\\\The_Black_Glove.mp3\",\n    bookskill_security3 = \"Vo\\\\Audiobook\\\\The_Dowry.mp3\",\n    bookskill_alteration2 = \"Vo\\\\Audiobook\\\\The_Dragon_Break_Reexamined.mp3\",\n    bookskill_enchant5 = \"Vo\\\\Audiobook\\\\The_Final_Lesson.mp3\",\n    bookskill_mysticism1 = \"Vo\\\\Audiobook\\\\The_Firsthold_Revolt.mp3\",\n    bookskill_restoration3 = \"Vo\\\\Audiobook\\\\The_Four_Suitors_Benitah.mp3\",\n    bookskill_marksman1 = \"Vo\\\\Audiobook\\\\The_Gold_Ribbon_of_Merit.mp3\",\n    bookskill_blunt_weapon1 = \"Vo\\\\Audiobook\\\\The_Hope_of_the_Redoran.mp3\",\n    bk_playscript = \"Vo\\\\Audiobook\\\\The_Horror_Castle_Xyr.mp3\",\n    bookskill_destruction1 = \"Vo\\\\Audiobook\\\\The_Horror_Castle_Xyr.mp3\",\n    bookskill_blunt_weapon2 = \"Vo\\\\Audiobook\\\\The_Importance_of_Where.mp3\",\n    bk_legendaryscourge = \"Vo\\\\Audiobook\\\\The_Legendary_Scourge.mp3\",\n    bookskill_security1 = \"Vo\\\\Audiobook\\\\The_Locked_Room.mp3\",\n    bookskill_alteration5 = \"Vo\\\\Audiobook\\\\The_Lunar_Lorkhan.mp3\",\n    bk_madnessofpelagius = \"Vo\\\\Audiobook\\\\The_Madness_Pelagius.mp3\",\n    bookskill_marksman4 = \"Vo\\\\Audiobook\\\\The_Marksmanship_Lesson.mp3\",\n    bk_manyfacesmissinggod = \"Vo\\\\Audiobook\\\\The_Monomyth.mp3\",\n    bookskill_block2 = \"Vo\\\\Audiobook\\\\The_Mirror.mp3\",\n    bk_oldways = \"Vo\\\\Audiobook\\\\The_Old_Ways.mp3\",\n    bk_postingofthehunt = \"Vo\\\\Audiobook\\\\The_Posting_of_the_Hunt.mp3\",\n    bookskill_hand_to_hand1 = \"Vo\\\\Audiobook\\\\The_Prayers_of_Baranat.mp3\",\n    bookskill_athletics1 = \"Vo\\\\Audiobook\\\\The_Ransom_of_Zarek.mp3\",\n    bookskill_light_armor1 = \"Vo\\\\Audiobook\\\\The_Rear_Guard.mp3\",\n    bookskill_axe3 = \"Vo\\\\Audiobook\\\\The_Seed.mp3\",\n    bookskill_axe1 = \"Vo\\\\Audiobook\\\\The_Third_Door.mp3\",\n    bk_vagariesofmagica = \"Vo\\\\Audiobook\\\\The_Vagaries_of_Magicka.mp3\",\n    bookskill_conjuration5 = \"Vo\\\\Audiobook\\\\The_Warriors_Charge.mp3\",\n    bk_watersofoblivion = \"Vo\\\\Audiobook\\\\The_Waters_of_Oblivion.mp3\",\n    bookskill_security2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v1.mp3\",\n    bookskill_hand_to_hand2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v2.mp3\",\n    bookskill_illusion1 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v3.mp3\",\n    bookskill_mercantile2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v4.mp3\",\n    bookskill_speechcraft2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v5.mp3\",\n    bookskill_sneak1 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v6.mp3\",\n    bookskill_speechcraft4 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v7.mp3\",\n    bookskill_enchant2 = \"Vo\\\\Audiobook\\\\The_Wolf_Queen_v8.mp3\",\n    bookskill_unarmored1 = \"Vo\\\\Audiobook\\\\The_Wraiths_Wedding_Dowry.mp3\",\n    bookskill_short_blade1 = \"Vo\\\\Audiobook\\\\Unnamed_Book.mp3\",\n    bookskill_marksman3 = \"Vo\\\\Audiobook\\\\Vernaccus_and_Bourlor.mp3\",\n    bk_warofthefirstcouncil = \"Vo\\\\Audiobook\\\\War_of_the_First_Council.mp3\",\n    bookskill_long_blade1 = \"Vo\\\\Audiobook\\\\Words_and_Philosophy.mp3\",\n    bk_wordsclanmother = \"Vo\\\\Audiobook\\\\Words_Clan_Mom_Ahnissi.mp3\",\n    bk_words_of_the_wind = \"Vo\\\\Audiobook\\\\Words_of_the_Wind.mp3\",\n    bk_yellowbookofriddles = \"Vo\\\\Audiobook\\\\Yellow_Book_of_Riddles.mp3\",\n    bk_briefhistoryempire4 = \"Vo\\\\Audiobook\\\\Biref_History_Empire_4.mp3\",\n    bk_briefhistoryofwood = \"Vo\\\\Audiobook\\\\Picture_Book_of_Wood.mp3\",\n    bk_briefhistoryofwood_01 = \"Vo\\\\Audiobook\\\\Picture_Book_of_Wood.mp3\",\n    bk_brothersofdarkness = \"Vo\\\\Audiobook\\\\The_Brothers_Darkness.mp3\",\n    bk_cantatasofvivec = \"Vo\\\\Audiobook\\\\The_Cantatas_of_Vivec.mp3\",\n    bk_changedones = \"Vo\\\\Audiobook\\\\The_Changed_Ones.mp3\",\n    bk_charterfg = \"Vo\\\\Audiobook\\\\Fighters_Guild_Charter.mp3\",\n    bk_chartermg = \"Vo\\\\Audiobook\\\\Mages_Guild_Charter.mp3\",\n    bk_childrenofthesky = \"Vo\\\\Audiobook\\\\Children_Of_Sky.mp3\",\n    bk_childrensanuad = \"Vo\\\\Audiobook\\\\The_Annotated_Anuad.mp3\",\n    bk_chroniclesnchuleft = \"Vo\\\\Audiobook\\\\Chronicles_of_Nchuleft.mp3\",\n    bk_confessions = \"Vo\\\\Audiobook\\\\Confessions_Skooma_Eater.mp3\",\n    bk_consolationsofprayer = \"Vo\\\\Audiobook\\\\The_Consolations_of_Prayer.mp3\",\n    bk_corpsepreperation1_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_1.mp3\",\n    bk_corpsepreperation1_o = \"Vo\\\\Audiobook\\\\Corpse_Preparation_1.mp3\",\n    bk_corpsepreperation2_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_2.mp3\",\n    bk_corpsepreperation3_c = \"Vo\\\\Audiobook\\\\Corpse_Preparation_3.mp3\",\n    bk_darkestdarkness = \"Vo\\\\Audiobook\\\\Darkest_Darkness.mp3\",\n    bk_doorsofthespirit = \"Vo\\\\Audiobook\\\\The_Doors_Of_Spirit.mp3\",\n    bk_easternprovincesimpartial = \"Vo\\\\Audiobook\\\\The_Eastern_Provinces.mp3\",\n    bk_fellowshiptemple = \"Vo\\\\Audiobook\\\\Fellowship_Of_The_Temple.mp3\",\n    bk_firmament = \"Vo\\\\Audiobook\\\\The_Firmament.mp3\",\n    bk_fishystick = \"Vo\\\\Audiobook\\\\Capns_Guide_to_the_Fishy_Stick.mp3\",\n    bk_five_far_stars = \"Vo\\\\Audiobook\\\\The_Five_Far_Stars.mp3\",\n    bk_fivesongsofkingwulfharth = \"Vo\\\\Audiobook\\\\Five_Songs_of_King_Wulfharth.mp3\",\n    bk_formygodsandemperor = \"Vo\\\\Audiobook\\\\For_God_Emperor.mp3\",\n    bk_fragmentonartaeum = \"Vo\\\\Audiobook\\\\Fragment_On_Artaeum.mp3\",\n    bk_frontierconquestaccommodat = \"Vo\\\\Audiobook\\\\Frontier_Conquest.mp3\",\n    bk_galerionthemystic = \"Vo\\\\Audiobook\\\\Galerion_the_Mystic.mp3\",\n    bk_galur_ritharis_papers = \"Vo\\\\Audiobook\\\\Galur_Rithari_Papers.mp3\",\n    bk_graspingfortune = \"Vo\\\\Audiobook\\\\Grasping_Fortune.mp3\",\n    bk_great_houses = \"Vo\\\\Audiobook\\\\Great_Houses_Morrowind.mp3\",\n    bk_guide_to_ald_ruhn = \"Vo\\\\Audiobook\\\\Guide_To_Aldruhn.mp3\",\n    bk_guide_to_balmora = \"Vo\\\\Audiobook\\\\GuidetoBalmora.mp3\",\n    bk_guide_to_sadrithmora = \"Vo\\\\Audiobook\\\\Guide_To_Sadrith_Mora.mp3\",\n    bk_guide_to_vivec = \"Vo\\\\Audiobook\\\\Guide_To_Vivec.mp3\",\n    bk_guide_to_vvardenfell = \"Vo\\\\Audiobook\\\\Guide_To_Vvardenfell.mp3\",\n    bk_guylainesarchitecture = \"Vo\\\\Audiobook\\\\Guylaines_Architecture.mp3\",\n    bk_homiliesofblessedalmalexia = \"Vo\\\\Audiobook\\\\Homilies_Blessed_Amalexia.mp3\",\n    bk_honorthieves = \"Vo\\\\Audiobook\\\\Honor_Among_Thieves.mp3\",\n    bk_houseoftroubles_c = \"Vo\\\\Audiobook\\\\The_House_of_Troubles.mp3\",\n    bk_houseoftroubles_o = \"Vo\\\\Audiobook\\\\The_House_of_Troubles.mp3\",\n    bk_invocationofazura = \"Vo\\\\Audiobook\\\\Invocation_of_Azura.mp3\",\n    bk_istunondescosmology = \"Vo\\\\Audiobook\\\\A_Less_Rude_Song.mp3\",\n    bk_legionsofthedead = \"Vo\\\\Audiobook\\\\Legions_Of_The_Dead.mp3\",\n    bk_livesofthesaints = \"Vo\\\\Audiobook\\\\Lives_of_the_saints.mp3\",\n    bk_lustyargonianmaid = \"Vo\\\\Audiobook\\\\Lusty_Argonian_Maid.mp3\",\n    bk_mixedunittactics = \"Vo\\\\Audiobook\\\\Mixed_Unit_Tactics.mp3\",\n    bk_mysteriousakavir = \"Vo\\\\Audiobook\\\\Mysterious_Akavir.mp3\",\n    bk_mysticism = \"Vo\\\\Audiobook\\\\Mysticism_Unfath_Voyage.mp3\",\n    bk_nerevarmoonandstar = \"Vo\\\\Audiobook\\\\Nerevar_MoonStar.mp3\",\n    bk_ngastakvatakvakis_c = \"Vo\\\\Audiobook\\\\NGasta_Kvata_Kvakis.mp3\",\n    bk_ngastakvatakvakis_o = \"Vo\\\\Audiobook\\\\NGasta_Kvata_Kvakis.mp3\",\n    bk_onmorrowind = \"Vo\\\\Audiobook\\\\On_Morrowind.mp3\",\n    bk_onoblivion = \"Vo\\\\Audiobook\\\\On_Oblivion.mp3\",\n    bk_originofthemagesguild = \"Vo\\\\Audiobook\\\\Origin_Mages_Guild.mp3\",\n    bk_overviewofgodsandworship = \"Vo\\\\Audiobook\\\\Overview_Gods_Worship.mp3\",\n    bk_pigchildren = \"Vo\\\\Audiobook\\\\The_Pig_Children.mp3\",\n    bk_pilgrimspath = \"Vo\\\\Audiobook\\\\The_Pilgrims_Path.mp3\",\n    bk_poisonsong1 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_1.mp3\",\n    bk_poisonsong2 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_2.mp3\",\n    bk_poisonsong3 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_3.mp3\",\n    bk_poisonsong4 = \"Vo\\\\Audiobook\\\\Poison_Song_Book_4.mp3\",\n    bk_poisonsong5 = \"Vo\\\\Audiobook\\\\Poison_Song_5.mp3\",\n    bk_poisonsong6 = \"Vo\\\\Audiobook\\\\Poison_Song_6.mp3\",\n    bk_poisonsong7 = \"Vo\\\\Audiobook\\\\Poison_Song_7.mp3\",\n    bk_progressoftruth = \"Vo\\\\Audiobook\\\\Progress_Of_Truth.mp3\",\n    bk_provinces_of_tamriel = \"Vo\\\\Audiobook\\\\Provinces_of_Tamriel.mp3\",\n    bk_realbarenziah1 = \"Vo\\\\Audiobook\\\\The_Real_Barenziah_Volume1.mp3\",\n    bk_realbarenziah2 = \"Vo\\\\Audiobook\\\\The_Real_Barenziah_Volume2.mp3\",\n    bk_realbarenziah3 = \"Vo\\\\Audiobook\\\\the_real_barenziah_v3.mp3\",\n    bk_realbarenziah4 = \"Vo\\\\Audiobook\\\\the_real_barenziah_v4.mp3\",\n    bk_realbarenziah5 = \"Vo\\\\Audiobook\\\\The_real_barenziah_v5.mp3\",\n    bk_realnerevar = \"Vo\\\\Audiobook\\\\The_Real_Nerevar.mp3\",\n    bk_redbookofriddles = \"Vo\\\\Audiobook\\\\The_Red_Book_Riddles.mp3\",\n    bk_reflectionsoncultworship = \"Vo\\\\Audiobook\\\\Reflections_on_Cult_Worship.mp3\",\n    bk_samarstarloversjournal = \"Vo\\\\Audiobook\\\\Starlovers_Log.mp3\",\n    bk_saryonissermons = \"Vo\\\\Audiobook\\\\Saryonis_Sermons.mp3\",\n    bk_shorthistorymorrowind = \"Vo\\\\Audiobook\\\\Short_History_Morrowind.mp3\",\n    bk_specialfloraoftamriel = \"Vo\\\\Audiobook\\\\Special_Flora_Tamriel.mp3\",\n    bk_spiritofnirn = \"Vo\\\\Audiobook\\\\Spirit_Of_Nirn.mp3\",\n    bk_spiritofthedaedra = \"Vo\\\\Audiobook\\\\Spirit_Of_The_Daedra.mp3\",\n    bk_tamrielicreligions = \"Vo\\\\Audiobook\\\\Ruins_of_Kemel_Ze.mp3\",\n    bk_truenatureoforcs = \"Vo\\\\Audiobook\\\\The_True_Nature_Orcs.mp3\",\n    bk_truenoblescode = \"Vo\\\\Audiobook\\\\The_True_Nobles_Code.mp3\",\n    bk_vampiresofvvardenfell1 = \"Vo\\\\Audiobook\\\\Vampires_Vvardenfell_I.mp3\",\n    bk_vampiresofvvardenfell2 = \"Vo\\\\Audiobook\\\\Vampires_Vvardenfell_II.mp3\",\n    bk_varietiesoffaithintheempire = \"Vo\\\\Audiobook\\\\Varieties_of_Faith.mp3\",\n    bk_vivec_murders = \"Vo\\\\Audiobook\\\\Nerevar_At_Red_Mountain.mp3\",\n    bk_vivecandmephala = \"Vo\\\\Audiobook\\\\Vivec_and_Mephala.mp3\",\n    bk_wherewereyoudragonbroke = \"Vo\\\\Audiobook\\\\Where_you_when_Dragon_Broke.mp3\",\n    bk_wildelves = \"Vo\\\\Audiobook\\\\The_Wild_Elves.mp3\",\n    bookskill_acrobatics2 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_book_1.mp3\",\n    bookskill_acrobatics3 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_4.mp3\",\n    bookskill_acrobatics4 = \"Vo\\\\Audiobook\\\\The_Black_Arrow_1.mp3\",\n    bookskill_alchemy1 = \"Vo\\\\Audiobook\\\\A_Game_At_Dinner.mp3\",\n    bookskill_alchemy2 = \"Vo\\\\Audiobook\\\\The_Cake_and_the_Diamond.mp3\",\n    bookskill_alchemy4 = \"Vo\\\\Audiobook\\\\VivecSermon2.mp3\",\n    bookskill_alchemy5 = \"Vo\\\\Audiobook\\\\VivecSermon18.mp3\",\n    bookskill_alteration1 = \"Vo\\\\Audiobook\\\\Breathing_Water.mp3\",\n    bookskill_alteration3 = \"Vo\\\\Audiobook\\\\Sithis.mp3\",\n    bookskill_alteration4 = \"Vo\\\\Audiobook\\\\VivecSermon13.mp3\",\n    bookskill_armorer3 = \"Vo\\\\Audiobook\\\\VivecSermon6.mp3\",\n    bookskill_armorer4 = \"Vo\\\\Audiobook\\\\VivecSermon25.mp3\",\n    bookskill_armorer5 = \"Vo\\\\Audiobook\\\\VivecSermon29.mp3\",\n    bookskill_athletics2 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_3.mp3\",\n    bookskill_athletics3 = \"Vo\\\\Audiobook\\\\VivecSermon1.mp3\",\n    bookskill_athletics4 = \"Vo\\\\Audiobook\\\\VivecSermon8.mp3\",\n    bookskill_athletics5 = \"Vo\\\\Audiobook\\\\VivecSermon31.mp3\",\n    bookskill_axe4 = \"Vo\\\\Audiobook\\\\VivecSermon5.mp3\",\n    bookskill_axe5 = \"Vo\\\\Audiobook\\\\VivecSermon16.mp3\",\n    bookskill_axe5_open = \"Vo\\\\Audiobook\\\\VivecSermon16.mp3\",\n    bookskill_block1 = \"Vo\\\\Audiobook\\\\Death_Blow_of_Abernanit.mp3\",\n    bookskill_block3 = \"Vo\\\\Audiobook\\\\A_Dance_in_Fire_Book_2.mp3\",\n    bookskill_block4 = \"Vo\\\\Audiobook\\\\VivecSermon7.mp3\",\n    bookskill_block5 = \"Vo\\\\Audiobook\\\\VivecSermon32.mp3\",\n    bookskill_blunt_weapon4 = \"Vo\\\\Audiobook\\\\VivecSermon3.mp3\",\n    bookskill_blunt_weapon5 = \"Vo\\\\Audiobook\\\\VivecSermon9.mp3\",\n    bookskill_conjuration1 = \"Vo\\\\Audiobook\\\\Feyfolken_v2.mp3\",\n    bookskill_conjuration2 = \"Vo\\\\Audiobook\\\\Feyfolken_v3.mp3\",\n    bookskill_conjuration3 = \"Vo\\\\Audiobook\\\\2920_9_Hearth_Fire.mp3\",\n    bookskill_conjuration4 = \"Vo\\\\Audiobook\\\\2920_10_FrostFall.mp3\",\n    bookskill_enchant1 = \"Vo\\\\Audiobook\\\\Feyfolken_v1.mp3\",\n    bookskill_enchant4 = \"Vo\\\\Audiobook\\\\VivecSermon19.mp3\",\n    bookskill_hand_to_hand3 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v2.mp3\",\n    bookskill_hand_to_hand4 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v4.mp3\",\n    bookskill_heavy_armor2 = \"Vo\\\\Audiobook\\\\2920_6_MidYear.mp3\",\n    bookskill_heavy_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon12.mp3\",\n    bookskill_heavy_armor3 = \"Vo\\\\Audiobook\\\\Chimarvamidium.mp3\",\n    bookskill_light_armor4 = \"Vo\\\\Audiobook\\\\VivecSermon21.mp3\",\n    bookskill_light_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon28.mp3\",\n    bookskill_long_blade2 = \"Vo\\\\Audiobook\\\\2920_01_Morning_Star.mp3\",\n    bookskill_long_blade3 = \"Vo\\\\Audiobook\\\\VivecSermon17.mp3\",\n    bookskill_long_blade4 = \"Vo\\\\Audiobook\\\\VivecSermon20.mp3\",\n    bookskill_long_blade5 = \"Vo\\\\Audiobook\\\\VivecSermon23.mp3\",\n    bookskill_marksman2 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_5.mp3\",\n    bookskill_marksman5 = \"Vo\\\\Audiobook\\\\The_Black_Arrow_2.mp3\",\n    bookskill_medium_armor4 = \"Vo\\\\Audiobook\\\\VivecSermon22.mp3\",\n    bookskill_medium_armor5 = \"Vo\\\\Audiobook\\\\VivecSermon33.mp3\",\n    bookskill_medium_armor1 = \"Vo\\\\Audiobook\\\\Cherims_Heart_Of_Anequina.mp3\",\n    bookskill_medium_armor2 = \"Vo\\\\Audiobook\\\\Bone_Book_I.mp3\",\n    bookskill_medium_armor3 = \"Vo\\\\Audiobook\\\\Bone_Book_II.mp3\",\n    bookskill_mercantile1 = \"Vo\\\\Audiobook\\\\The_Buying_Game.mp3\",\n    bookskill_mercantile3 = \"Vo\\\\Audiobook\\\\2920_7_Suns_Height.mp3\",\n    bookskill_mercantile4 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_6.mp3\",\n    bookskill_mercantile5 = \"Vo\\\\Audiobook\\\\A_Dance_In_Fire_Book_7.mp3\",\n    bookskill_mysticism2 = \"Vo\\\\Audiobook\\\\2920_02_Suns_Dawn.mp3\",\n    bookskill_mysticism3 = \"Vo\\\\Audiobook\\\\VivecSermon4.mp3\",\n    bookskill_mysticism4 = \"Vo\\\\Audiobook\\\\VivecSermon36.mp3\",\n    bookskill_mysticism5 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v3.mp3\",\n    bookskill_restoration1 = \"Vo\\\\Audiobook\\\\Withershins.mp3\",\n    bookskill_restoration4 = \"Vo\\\\Audiobook\\\\2920_04_Rains_Hand.mp3\",\n    bookskill_security4 = \"Vo\\\\Audiobook\\\\Chances_Folly.mp3\",\n    bookskill_short_blade2 = \"Vo\\\\Audiobook\\\\2920_11_Suns_Dusk.mp3\",\n    bookskill_short_blade3 = \"Vo\\\\Audiobook\\\\2920_vol_12.mp3\",\n    bookskill_short_blade4 = \"Vo\\\\Audiobook\\\\VivecSermon10.mp3\",\n    bookskill_short_blade5 = \"Vo\\\\Audiobook\\\\VivecSermon30.mp3\",\n    bookskill_sneak2 = \"Vo\\\\Audiobook\\\\2920_8_Last_Seed.mp3\",\n    bookskill_sneak3 = \"Vo\\\\Audiobook\\\\Azura_and_the_Box.mp3\",\n    bookskill_sneak4 = \"Vo\\\\Audiobook\\\\Trap.mp3\",\n    bookskill_sneak5 = \"Vo\\\\Audiobook\\\\VivecSermon26.mp3\",\n    bookskill_spear2 = \"Vo\\\\Audiobook\\\\2920_03_First_Seed.mp3\",\n    bookskill_spear3 = \"Vo\\\\Audiobook\\\\VivecSermon14.mp3\",\n    bookskill_spear4 = \"Vo\\\\Audiobook\\\\VivecSermon24.mp3\",\n    bookskill_spear5 = \"Vo\\\\Audiobook\\\\VivecSermon35.mp3\",\n    bookskill_speechcraft1 = \"Vo\\\\Audiobook\\\\Biography_Wolf_Queen.mp3\",\n    bookskill_speechcraft3 = \"Vo\\\\Audiobook\\\\2920_05_Second_Seed.mp3\",\n    bookskill_speechcraft5 = \"Vo\\\\Audiobook\\\\VivecSermon27.mp3\",\n    bookskill_unarmored2 = \"Vo\\\\Audiobook\\\\Charwich_Koiinge_Letters_v1.mp3\",\n    bookskill_unarmored3 = \"Vo\\\\Audiobook\\\\VivecSermon11.mp3\",\n    bookskill_unarmored4 = \"Vo\\\\Audiobook\\\\VivecSermon15.mp3\",\n    bookskill_unarmored5 = \"Vo\\\\Audiobook\\\\VivecSermon34.mp3\"\n}\n\n--- @param dirty_id string\n--- replace spaces with _, replace . and ' with none\nlocal function sanitize_id(dirty_id)\n    local result = string.gsub(dirty_id, \"%s+\", \"_\") -- Replace spaces with underscores\n    result = string.gsub(result, \"[%.']\", \"\")        -- Remove periods and apostrophes\n    return result\nend\n\nlocal currentBook = nil\nlocal isReading = false\nlocal playingBook\n\nreturn {\n    eventHandlers = {\n        UiModeChanged = function(data)\n            if data.newMode == \"Book\" or data.newMode == \"Scroll\" then\n                currentBook = data.arg\n                isReading = true\n            else\n                isReading = false\n            end\n        end\n    },\n\n    engineHandlers = {\n        onKeyPress = function(key)\n            if currentBook == nil then\n                return\n            end\n\n            if key.symbol == 'x' then\n                if isReading == true then\n                    local record = types.Book.record(currentBook)\n                    local name = record.id or \"unknown\"\n                    local book_id = sanitize_id(name)\n                    local file = \"Sound\\\\\" .. (sound_map[book_id] or \"unknown\")\n                    if vfs.fileExists(file) then\n                        core.sound.say(file, self)\n                        ui.showMessage(\"Reading\\n\" .. record.name)\n                        playingBook = record.name\n                    else\n                        ui.showMessage(\"This book does not have an audiobook\")\n                    end\n                end\n            elseif key.symbol == \"c\" then\n                if core.sound.isSayActive(self) then\n                    core.sound.stopSay(self)\n                    local record = types.Book.record(currentBook)\n                    ui.showMessage(\"Stopped reading\\n\" .. playingBook)\n                end\n            end\n        end\n    }\n}\n"
  }
}