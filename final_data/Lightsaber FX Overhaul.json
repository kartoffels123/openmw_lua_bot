{
  "folder_name": "Lightsaber FX Overhaul",
  "lua_files": {
    "Additional Saber FX-53883-1-0-1703449357\\AdditionalSaberFX\\Scripts\\SoundManager.lua": "local core = require('openmw.core')\nlocal self = require('openmw.self')\nlocal types = require('openmw.types')\n\nlocal CSOSwishPrefix = \"Sound\\\\Fx\\\\Item\\\\CSOSwing\\\\Swing\"\nlocal doSwish = false\nlocal hasSaberEquipped = false\nlocal inventory = types.Actor.inventory(self.object)\nlocal sabers = {\n  \"sabrelaser_exarkun\",\n  \"sabrelaser2_bastila\",\n  \"sabrelaser2_exarkun\",\n  \"sabrelaser2_maul\",\n  \"sabrelaser_dooku\",\n  \"sabrelaser_luke\",\n  \"sabrelaser_marajade\",\n  \"sabrelaser_obiwan\",\n  \"sabrelaser_sith\",\n  \"sabrelaser_vader\",\n  \"sabrelaser_windu\",\n  \"sabrelaser_yun\"\n}\n\nlocal function soundManager()\n\n  for _, id in pairs(sabers) do\n    local saber = inventory:find(id)\n    if saber and types.Actor.hasEquipped(self, saber) then\n      hasSaberEquipped = true\n      break\n    end\n    hasSaberEquipped = false\n  end\n\n  if not hasSaberEquipped then return end\n\n  -- First, we listen for a specific sound and kill it if we find it.\n  -- We also flip a marker on that indicates one of the two sound types was played.\n  if core.sound.isSoundPlaying(\"SwishS\", self) then\n    core.sound.stopSound3d(\"SwishS\", self)\n    doSwish = true\n  elseif core.sound.isSoundPlaying(\"SwishS\", self) then\n    core.sound.stopSound3d(\"SwishM\", self)\n    doSwish = true\n  elseif  core.sound.isSoundPlaying(\"SwishL\", self) then\n    core.sound.stopSound3d(\"SwishL\", self)\n    doSwish = true\n  elseif  core.sound.isSoundPlaying(\"Weapon Swish\", self) then\n    core.sound.stopSound3d(\"Weapon Swish\", self)\n    doSwish = true\n  end\n\n  if core.contentFiles.has(\"Combat Sounds Overhaul.esp\")then\n    for soundNum=1, 26 do\n      if core.sound.isSoundFilePlaying(CSOSwishPrefix .. soundNum .. \".wav\", self) then\n        core.sound.stopSoundFile3d(CSOSwishPrefix .. soundNum .. \".wav\", self)\n        doSwish = true\n      end\n    end\n  end\n\n  -- Play the sound, and flip the marker back *off* so it doesn't play again\n  if doSwish then\n    core.sound.playSoundFile3d(\"Sound\\\\Vader\\\\SaberSoundz\\\\vader_hit\" .. math.random(1, 29) .. \".wav\", self)\n    doSwish = false\n  end\n\nend\n\n\nreturn {\n  engineHandlers = {\n    onUpdate = soundManager\n  }\n}\n",
    "Lightsaber FX Overhaul-53883-1-0-1703445814\\NEWSaberFX\\Scripts\\SaberSoundz\\SoundManager.lua": "local core = require('openmw.core')\nlocal self = require('openmw.self')\nlocal types = require('openmw.types')\n\nlocal CSOSwishPrefix = \"Sound\\\\Fx\\\\Item\\\\CSOSwing\\\\Swing\"\nlocal doSwish = false\nlocal hasSaberEquipped = false\nlocal inventory = types.Actor.inventory(self.object)\nlocal sabers = {\n  \"sabrelaser_exarkun\",\n  \"sabrelaser2_bastila\",\n  \"sabrelaser2_exarkun\",\n  \"sabrelaser2_maul\",\n  \"sabrelaser_dooku\",\n  \"sabrelaser_luke\",\n  \"sabrelaser_marajade\",\n  \"sabrelaser_obiwan\",\n  \"sabrelaser_sith\",\n  \"sabrelaser_vader\",\n  \"sabrelaser_windu\",\n  \"sabrelaser_yun\"\n}\n\nlocal function soundManager()\n\n  for _, id in pairs(sabers) do\n    local saber = inventory:find(id)\n    if saber and types.Actor.hasEquipped(self, saber) then\n      hasSaberEquipped = true\n      break\n    end\n    hasSaberEquipped = false\n  end\n\n  if not hasSaberEquipped then return end\n\n  -- First, we listen for a specific sound and kill it if we find it.\n  -- We also flip a marker on that indicates one of the two sound types was played.\n  if core.sound.isSoundPlaying(\"SwishS\", self) then\n    core.sound.stopSound3d(\"SwishS\", self)\n    doSwish = true\n  elseif core.sound.isSoundPlaying(\"SwishS\", self) then\n    core.sound.stopSound3d(\"SwishM\", self)\n    doSwish = true\n  elseif  core.sound.isSoundPlaying(\"SwishL\", self) then\n    core.sound.stopSound3d(\"SwishL\", self)\n    doSwish = true\n  elseif  core.sound.isSoundPlaying(\"Weapon Swish\", self) then\n    core.sound.stopSound3d(\"Weapon Swish\", self)\n    doSwish = true\n  end\n\n  if core.contentFiles.has(\"Combat Sounds Overhaul.esp\")then\n    for soundNum=1, 26 do\n      if core.sound.isSoundFilePlaying(CSOSwishPrefix .. soundNum .. \".wav\", self) then\n        core.sound.stopSoundFile3d(CSOSwishPrefix .. soundNum .. \".wav\", self)\n        doSwish = true\n      end\n    end\n  end\n\n  -- Play the sound, and flip the marker back *off* so it doesn't play again\n  if doSwish then\n    core.sound.playSoundFile3d(\"Sound\\\\Vader\\\\SaberSoundz\\\\vader_hit\" .. math.random(1, 26) .. \".wav\", self)\n    doSwish = false\n  end\n\nend\n\n\nreturn {\n  engineHandlers = {\n    onUpdate = soundManager\n  }\n}\n"
  }
}